/* scheduler_service_impl.h

 Generated by phxrpc_pb2service from scheduler.proto

*/

#pragma once

#include "phxrpc/network.h"

#include "phxrpc_scheduler.h"
#include "phxrpc_scheduler_service.h"
#include "scheduler.pb.h"


class SchedulerServerConfig;


typedef struct tagServiceArgs {
    SchedulerServerConfig *config;
    phxqueue::scheduler::Scheduler *scheduler;
} ServiceArgs_t;


class SchedulerServiceImpl : public SchedulerService {
  public:
    SchedulerServiceImpl(ServiceArgs_t &app_args);
    virtual ~SchedulerServiceImpl();

    virtual int PHXEcho(const google::protobuf::StringValue &req,
                        google::protobuf::StringValue *resp);

    virtual int GetAddrScale(const phxqueue::comm::proto::GetAddrScaleRequest &req,
                             phxqueue::comm::proto::GetAddrScaleResponse *resp);

  private:
    ServiceArgs_t &args_;
    phxqueue::scheduler::Scheduler *scheduler_{nullptr};
};

